import gsap from "gsap";
import { useEffect, useRef } from "react";

const Loader2 = () => {
    const gradient = useRef(null);
    const loaderMain = useRef(null);

    useEffect(() => {
        const ctx = gsap.context(() => {
            const tl = gsap.timeline();
            tl.to(gradient.current, {
                duration: 2,
                xPercent: 100,
                delay: 0.5,
                ease: "power3.out",
            }).to(loaderMain.current, {
                duration: 0.5,
                yPercent: -100,
                delay: -0.2,
                onComplete: () => {
                    gsap.set(loaderMain.current, {
                        display: 'none',
                        pointerEvents: 'none',
                    })
                }
            })
        })
        return () => ctx.revert();
      }, []);

    return (
        <>
            <div ref={loaderMain} id="preloader" className="bg-[#E0D4C6] text-[#E0D4C6] h-screen w-screen fixed z-[999] flex items-center justify-center">
                <div className="relative flex items-center justify-center mb-10">
                    <svg className="w-[15vw] h-[5vw]" width="167" height="25" viewBox="0 0 167 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clipPath="url(#clip0_707_5514)">
                            <g mask="url(#mask0_707_5514)">
                                <path d="M0 17.4026H2.7407C3.19402 20.2723 5.19029 21.9774 8.1223 21.9774C11.6033 21.9774 13.6661 19.8522 13.6661 16.2423C13.6661 12.6324 11.6366 10.4739 8.22211 10.4739C5.32337 10.4739 3.61407 12.15 2.87379 14.5663L0.199626 14.2128L2.02954 0.164062H14.7225V2.41818H4.5415L3.17323 10.9106H3.28136C4.19631 9.41758 6.81641 8.24477 9.44067 8.2822C13.8865 8.34459 16.5274 11.2142 16.5274 16.1134C16.5274 21.2704 13.4041 24.3313 8.15141 24.3313C3.57664 24.3313 0.515702 21.7528 0 17.4026Z" fill="#010101" />
                                <path d="M29.0264 11.753C33.7259 12.119 34.5744 15.5875 34.5744 17.5921C34.5744 21.909 31.5134 24.4875 26.2607 24.4875C21.5238 24.4875 18.5918 21.6179 18.3672 16.7561H21.0414C21.1703 20.1706 23.1042 22.2001 26.294 22.2001C29.7085 22.2001 31.7047 20.4908 31.7047 17.5921C31.7047 14.6933 29.6419 12.984 26.0653 12.984H25.3874V10.8256C28.9308 10.4055 31.0268 8.7295 31.0268 6.28407C31.0268 3.83865 29.2551 2.28739 26.2566 2.28739C23.4202 2.28739 21.6153 4.35019 21.424 7.79791H18.8122C19.0784 2.89874 21.9771 0 26.5851 0C31.1932 0 33.859 2.13351 33.859 5.53963C33.859 8.94576 31.9085 11.0377 29.0306 11.6158V11.753H29.0264Z" fill="#010101" />
                                <path d="M90.301 16.006H93.0334C93.2913 19.8655 95.6702 22.1154 99.4963 22.1154C103.514 22.1154 105.864 20.4436 105.864 17.549C105.864 14.0098 102.553 13.4982 99.0804 12.9201C95.1586 12.3088 90.9457 11.635 90.9457 6.74419C90.9415 2.43559 94.1272 0.0234375 99.4631 0.0234375C104.799 0.0234375 107.727 3.04695 108.018 8.12494H105.285C105.094 4.49008 102.907 2.36905 99.3674 2.36905C95.8282 2.36905 93.7404 3.91199 93.7404 6.582C93.7404 9.63878 96.7639 10.1212 100.074 10.6328C104.125 11.2774 108.692 11.9844 108.692 17.3535C108.692 21.8243 105.252 24.461 99.4631 24.461C94.0274 24.461 90.6213 21.3419 90.2969 16.0019L90.301 16.006Z" fill="#010101" />
                                <path d="M67.2416 0.34375L62.5587 21.4958L57.1439 0.34375H55.9544H54.7775H53.588L48.1731 21.4958L43.4902 0.34375H40.5L45.9689 24.1409H47.4952H48.7595H49.9282L55.3639 2.67273L60.8037 24.1409H61.9723H63.2366H64.7629L70.2319 0.34375H67.2416Z" fill="#010101" />
                                <path d="M75.541 21.8909V11.3398C76.3603 12.4503 77.8824 13.1781 79.7373 13.1531L86.9904 13.1115V10.8616L75.541 10.874V2.59371H88.1133V0.34375H72.8086V24.1409H88.4668V21.8909H75.541Z" fill="#010101" />
                                <path d="M126.832 0.34375H109.402V2.59371H118.947C117.52 3.63759 116.714 5.6089 116.747 8.01273V24.1367H119.5V2.59371H126.832V0.34375Z" fill="#010101" />
                                <path d="M132.426 17.4026H135.166C135.62 20.2723 137.616 21.9774 140.548 21.9774C144.029 21.9774 146.092 19.8522 146.092 16.2423C146.092 12.6324 144.062 10.4739 140.648 10.4739C137.749 10.4739 136.04 12.15 135.3 14.5663L132.625 14.2128L134.455 0.164062H147.148V2.41818H136.967L135.599 10.9106H135.707C136.622 9.41758 139.242 8.24477 141.866 8.2822C146.312 8.34459 148.953 11.2142 148.953 16.1134C148.953 21.2704 145.83 24.3313 140.577 24.3313C136.002 24.3313 132.941 21.7528 132.426 17.4026Z" fill="#010101" />
                                <path d="M161.448 11.753C166.148 12.119 166.996 15.5875 166.996 17.5921C166.996 21.909 163.935 24.4875 158.683 24.4875C153.946 24.4875 151.014 21.6179 150.789 16.7561H153.463C153.592 20.1706 155.526 22.2001 158.716 22.2001C162.13 22.2001 164.127 20.4908 164.127 17.5921C164.127 14.6933 162.064 12.984 158.487 12.984H157.809V10.8256C161.353 10.4055 163.449 8.7295 163.449 6.28407C163.449 3.83865 161.677 2.28739 158.678 2.28739C155.842 2.28739 154.037 4.35019 153.846 7.79791H151.234C151.492 2.89874 154.391 0 158.999 0C163.607 0 166.273 2.13351 166.273 5.53963C166.273 8.94576 164.322 11.0377 161.444 11.6158V11.753H161.448Z" fill="#010101" />
                            </g>
                        </g>
                    </svg>
                    <span ref={gradient} className="absolute top-0 -left-full block w-[200%] h-full bg-gradient-to-l from-current via-current to-transparent"/>
                </div>
            </div>
        </>
    )
}

export default Loader2;